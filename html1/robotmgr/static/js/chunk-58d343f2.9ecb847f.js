(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58d343f2"],{"464b":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container new bg"},[a("div",{staticClass:"appUpload"},[a("section",{staticClass:"head"},[a("p",{staticClass:"name"},[e._v("当前版本：")]),e._v(" "),a("p",{staticClass:"version"},[e._v(e._s(e._f("defaultValue")(e.version)))]),e._v(" "),a("p",{staticClass:"time"},[e._v("上传时间："+e._s(e._f("defaultValue")(e.updateTime)))])]),e._v(" "),a("section",{staticClass:"main"},[a("el-form",{ref:"dataForm",staticStyle:{width:"70%",margin:"0 auto"},attrs:{rules:e.rules,model:e.temp,size:e.formSize,"label-position":e.formAlign,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"客户端类型",prop:"clientType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",clearable:""},model:{value:e.temp.clientType,callback:function(t){e.$set(e.temp,"clientType",t)},expression:"temp.clientType"}},[a("el-option",{attrs:{label:"巡逻机器人app",value:"android"}}),e._v(" "),a("el-option",{attrs:{label:"机器人本体app",value:"robot-pad"}}),e._v(" "),a("el-option",{attrs:{label:"云端机器人app",value:"android-cloud"}}),e._v(" "),a("el-option",{attrs:{label:"PC客户端",value:"pcclient"}}),e._v(" "),a("el-option",{attrs:{label:"视频控件",value:"ocx"}}),e._v(" "),a("el-option",{attrs:{label:"工控机程序",value:"phinex"}}),e._v(" "),a("el-option",{attrs:{label:"电源板程序",value:"power"}}),e._v(" "),a("el-option",{attrs:{label:"主控板程序",value:"mcu"}}),e._v(" "),a("el-option",{attrs:{label:"导航程序",value:"navigation"}}),e._v(" "),a("g-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix","icon-class":"list"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号",prop:"version"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.temp.version,callback:function(t){e.$set(e.temp,"version","string"===typeof t?t.trim():t)},expression:"temp.version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新说明",prop:"content"}},[a("el-input",{attrs:{type:"textarea",placeholder:"",rows:4},model:{value:e.temp.content,callback:function(t){e.$set(e.temp,"content","string"===typeof t?t.trim():t)},expression:"temp.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择程序",prop:"filename"}},[a("el-input",{staticClass:"form-item",attrs:{placeholder:"",disabled:!0},model:{value:e.temp.filename,callback:function(t){e.$set(e.temp,"filename","string"===typeof t?t.trim():t)},expression:"temp.filename"}},[a("template",{slot:"append"},[a("span",{staticClass:"form-item__uploadTxt",on:{click:e.handleUploadFile}},[e._v("上传文件")]),e._v(" "),a("input",{staticClass:"form-item__upload",attrs:{type:"file",accept:".exe,.apk",name:"txt"},on:{change:function(t){return e.handleFileChange(t)}}})])],2)],1)],1)],1),e._v(" "),a("section",{staticClass:"foot"},[a("el-button",{attrs:{size:e.formSize},on:{click:e.handleSubmit}},[e._v("保存设置")])],1)])])},i=[],n=(a("7f7f"),a("0a1f")),s=a("ed08"),o=n["user"].getAPPVersion,r=n["user"].updateAPPVersion,p={name:"AppRelease",data:function(){return{emptyText:null,list:[],total:null,formSize:"small",listLoading:!0,listQuery:{page:1,limit:10,name:null},temp:{clientType:"android",version:"",content:"",txt:"",filename:""},version:"",updateTime:"",rules:{clientType:[{required:!0,message:"不能为空",trigger:"blur"}],version:[{required:!0,message:"不能为空",trigger:"blur"}],content:[{required:!0,message:"不能为空",trigger:"blur"}],filename:[{required:!0,message:"不能为空",trigger:"blur"}]},filename:this.$t("route.appRelease")}},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,this.emptyText=null;var t=this.temp.clientType;o({clientType:t}).then(function(t){e.version=t.data.ver,e.updateTime=t.data.updateTime,e.listLoading=!1},function(t){console.log(t),e.listLoading=!1,e.emptyText="网络错误"})},handleUploadFile:function(e){var t=e.target;t.className.indexOf("form-item__uploadTxt")>-1&&t.nextElementSibling&&t.nextElementSibling.click()},handleFileChange:function(e){var t=e.target.files;Object(s["k"])([].slice.call(t)[0],".exe,.apk")?(this.temp.txt=t[0],this.temp.filename=this.temp.txt.name):this.$message.error("所选文件类型不符合")},handleSubmit:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(t){var a=e._.cloneDeep(e.temp);e.sending=!0,r(a).then(function(t){e.$message.success(t.msg),e.sending=!1,e.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},function(t){e.sending=!1,console.log(t)})}})}}},c=p,m=(a("c4bd"),a("2877")),u=Object(m["a"])(c,l,i,!1,null,"67ead8b8",null);t["default"]=u.exports},5776:function(e,t,a){},c4bd:function(e,t,a){"use strict";var l=a("5776"),i=a.n(l);i.a}}]);