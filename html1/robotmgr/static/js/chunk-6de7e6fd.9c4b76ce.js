(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6de7e6fd"],{"101c":function(e,t,a){e.exports=a.p+"static/img/I-90.86cec182.png"},6463:function(e,t,a){"use strict";var l=a("ed58"),i=a.n(l);i.a},"651e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container new bg with-pagination"},[l("div",{staticClass:"card"},[l("div",{staticClass:"card-title"},[l("Toolbar",{attrs:{name:e.filename}},[l("span",{staticClass:"action",on:{click:e.getList}},[l("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v(e._s(e.$t("base.search")))])],1),e._v(" "),l("span",{staticClass:"action",on:{click:e.handleLayout}},[l("svg-icon",{attrs:{"icon-class":"layout"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v(e._s(e.$t("base.layout")))])],1),e._v(" "),l("span",{staticClass:"action",on:{click:e.handleDialog}},[l("svg-icon",{attrs:{"icon-class":"plus"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v(e._s(e.$t("base.plus")))])],1)])],1),e._v(" "),l("h6",{staticClass:"card-subtitle"},[e._v("机器人管理中心，可查询、设置机器人的状态信息，机器人单独配置页面入口")]),e._v(" "),l("div",{staticClass:"card-body"},[l("el-row",{staticClass:"filter-container",attrs:{gutter:20}},[l("el-col",{attrs:{xs:12,sm:8,md:4}},[l("el-input",{staticClass:"filter-item",attrs:{size:e.searchSize,placeholder:"机器人名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.listQuery.robotNameOrCode,callback:function(t){e.$set(e.listQuery,"robotNameOrCode",t)},expression:"listQuery.robotNameOrCode"}},[l("svg-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix","icon-class":"robot"},slot:"prefix"})],1)],1),e._v(" "),l("el-col",{attrs:{xs:12,sm:8,md:4}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"默认 - 全部",clearable:"",size:e.searchSize},on:{change:e.getList},model:{value:e.listQuery.groupId,callback:function(t){e.$set(e.listQuery,"groupId",t)},expression:"listQuery.groupId"}},[e._l(e.computedGroup,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),e._v(" "),l("svg-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix","icon-class":"list"},slot:"prefix"})],2)],1)],1),e._v(" "),l("div",{staticClass:"card-table"},[l("transition",{attrs:{mode:"out-in",name:"fade"}},[e.layout?l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"dataTable",attrs:{data:e.list,"row-key":e.rowKey,fit:"","empty-text":e.emptyText,"highlight-current-row":""}},[l("el-table-column",{attrs:{align:e.tableAlign,label:"机器人名称",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.name)))]}}],null,!1,3720142883)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"型号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.modelName)))]}}],null,!1,3271555404)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"导航方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.naviTypeName)))]}}],null,!1,1408793515)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"音频类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.audioTypeName)))]}}],null,!1,503750925)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"语音"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.languageName)))]}}],null,!1,1181511569)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["在线"===t.row.onlineStatus?l("el-tag",[l("g-icon",{staticClass:"card-table__icon g-color-success",attrs:{"icon-class":"online"}}),e._v("\n                  "+e._s(e._f("defaultValue")(t.row.onlineStatus))+"\n                ")],1):l("el-tag",{attrs:{type:"info"}},[l("g-icon",{staticClass:"card-table__icon g-color-danger",attrs:{"icon-class":"offline"}}),e._v("\n                  "+e._s(e._f("defaultValue")(t.row.onlineStatus))+"\n                ")],1)]}}],null,!1,2579872961)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"添加时间",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.bindingTime))]}}],null,!1,2387392169)}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"操作",fixed:"right",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{attrs:{effect:"dark",content:"视图",placement:"top"}},[l("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"view"},on:{click:function(a){return e.goView(t.row)}}})],1),e._v(" "),l("el-tooltip",{attrs:{effect:"dark",content:"配置",placement:"top"}},[l("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"configuration"},on:{click:function(a){return e.goConfig(t.row)}}})],1),e._v(" "),l("el-tooltip",{attrs:{effect:"dark",content:"计划",placement:"top"}},[l("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"plan"},on:{click:function(a){return e.goPlan(t.row)}}})],1),e._v(" "),l("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top"}},[l("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"edit"},on:{click:function(a){return e.handleDialog(t.row)}}})],1),e._v(" "),l("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[l("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"delete"},on:{click:function(a){return e.handleDeleteRobot(t.row)}}})],1)]}}],null,!1,3274200063)})],1):l("transition-group",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"g-flexbox",attrs:{name:"flip-list",tag:"div"}},e._l(e.list&&e.list.slice(0,4),function(t){return l("div",{key:t.id,staticClass:"flip-list__item g-flexbox__item"},[l("div",{staticClass:"robot",class:{"is-disable":!t.isUsing}},[l("div",{staticClass:"robot__head",staticStyle:{display:"none"}}),e._v(" "),l("div",{staticClass:"robot__content"},[l("div",{staticClass:"robot__content_image left "},[l("div",{staticClass:"robot__content_image__avatar"},[90===t.model?l("img",{attrs:{src:a("101c"),alt:"Robot I2巡逻"}}):100===t.model?l("img",{attrs:{src:a("cd62"),alt:"Robot O1"}}):101===t.model?l("img",{attrs:{src:a("89db"),alt:"Robot O2"}}):l("img",{attrs:{src:a("7933"),alt:"Robot I2巡检"}})]),e._v(" "),l("div",{staticClass:"robot__content_image__name"},[e._v(e._s(t.name))])]),e._v(" "),l("div",{staticClass:"robot__content_info right"},[l("div",[e._v("\n                      机器人名称："),l("span",{staticClass:"word"},[e._v(e._s(e._f("defaultValue")(t.name)))])]),e._v(" "),l("div",[e._v("\n                      型号："),l("span",{staticClass:"word"},[e._v(e._s(e._f("defaultValue")(t.modelName)))])]),e._v(" "),l("div",[e._v("\n                      导航方式："),l("span",{staticClass:"word"},[e._v(e._s(e._f("defaultValue")(t.naviTypeName)))])]),e._v(" "),l("div",[e._v("\n                      音频类型："),l("span",{staticClass:"word"},[e._v(e._s(e._f("defaultValue")(t.audioTypeName)))])]),e._v(" "),l("div",[e._v("\n                      语音："),l("span",{staticClass:"word"},[e._v(e._s(e._f("defaultValue")(t.languageName)))])]),e._v(" "),l("div",[e._v("\n                      状态："),l("span",{staticClass:"word"},[l("g-icon",{class:["card-table__icon","在线"===t.onlineStatus?"g-color-success":"g-color-danger"],attrs:{"icon-class":"在线"===t.onlineStatus?"online":"offline"}}),e._v("\n                        "+e._s(e._f("defaultValue")(t.onlineStatus))+"\n                      ")],1)]),e._v(" "),l("div",[e._v("\n                      添加时间："),l("span",{staticClass:"word"},[e._v(e._s(t.bindingTime))])])])]),e._v(" "),l("div",{staticClass:"robot__foot"},[t.isUsing?[l("div",{staticClass:"action",on:{click:function(a){return e.goView(t)}}},[l("g-icon",{attrs:{"icon-class":"view"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v("视图")])],1),e._v(" "),l("div",{staticClass:"action",on:{click:function(a){return e.goConfig(t)}}},[l("g-icon",{attrs:{"icon-class":"configuration"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v("配置")])],1),e._v(" "),l("div",{staticClass:"action",on:{click:function(a){return e.goPlan(t)}}},[l("g-icon",{attrs:{"icon-class":"plan"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v("计划")])],1),e._v(" "),l("div",{staticClass:"action",on:{click:function(a){return e.handleDialog(t)}}},[l("g-icon",{attrs:{"icon-class":"edit"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v("编辑")])],1)]:e._e(),e._v(" "),l("div",{staticClass:"action",on:{click:function(a){return e.handleDeleteRobot(t)}}},[l("g-icon",{attrs:{"icon-class":"delete"}}),e._v(" "),l("span",{staticClass:"action__desc"},[e._v("删除")])],1)],2)])])}),0)],1)],1)],1)]),e._v(" "),l("div",{staticClass:"pagination-container"},[l("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":e.pageSize,"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"append-to-body":!0,top:"5vh","custom-class":"robotmgr-dialog",title:e.dialogTitle,visible:e.dialogSettingVisible,modal:e.needModal,"close-on-click-modal":e.closeOnClickModel,width:"900px"},on:{"update:visible":function(t){e.dialogSettingVisible=t}}},[l("div",{staticClass:"robotmgr-dialog__left"},[l("el-form",{ref:"dataForm",staticStyle:{width:"80%",margin:"0 auto"},attrs:{rules:e.rules,model:e.temp,size:e.formSize,"label-position":e.formAlign,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"机器人Sn",prop:"code"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.temp.code,callback:function(t){e.$set(e.temp,"code","string"===typeof t?t.trim():t)},expression:"temp.code"}},[l("el-button",{attrs:{slot:"append",type:"primary"},on:{click:e.handleDetectRobot},slot:"append"},[e._v("检测设备")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"机器人名称",prop:"name"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name","string"===typeof t?t.trim():t)},expression:"temp.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"机器人 Key",prop:"codeKey"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.temp.codeKey,callback:function(t){e.$set(e.temp,"codeKey","string"===typeof t?t.trim():t)},expression:"temp.codeKey"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"机器人分组",prop:"groupId"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"默认 - 未分组",clearable:""},model:{value:e.temp.groupId,callback:function(t){e.$set(e.temp,"groupId",t)},expression:"temp.groupId"}},e._l(e.computedGroup,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"语言",prop:"language"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",clearable:""},model:{value:e.temp.language,callback:function(t){e.$set(e.temp,"language",t)},expression:"temp.language"}},[l("el-option",{attrs:{label:"青年女声",value:1}}),e._v(" "),l("el-option",{attrs:{label:"青年女声2",value:2}}),e._v(" "),l("el-option",{attrs:{label:"青年男声",value:3}}),e._v(" "),l("el-option",{attrs:{label:"卡通",value:4}}),e._v(" "),l("el-option",{attrs:{label:"童声",value:5}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"型号",prop:"modelId"}},[l("el-select",{staticClass:"filter-item",attrs:{disabled:!!e.temp.deviceId,placeholder:"请选择",clearable:""},on:{change:function(t){return e.temp.language=100===t||101===t?3:1}},model:{value:e.temp.modelId,callback:function(t){e.$set(e.temp,"modelId",t)},expression:"temp.modelId"}},e._l(e.modelTypeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),130===e.temp.modelId?l("el-form-item",{attrs:{label:"摄像头配置",prop:"chnNum"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",clearable:""},model:{value:e.temp.chnNum,callback:function(t){e.$set(e.temp,"chnNum",t)},expression:"temp.chnNum"}},[l("el-option",{attrs:{label:"1路高清",value:301}}),e._v(" "),l("el-option",{attrs:{label:"1路高清加热成像",value:302}}),e._v(" "),l("el-option",{attrs:{label:"3路高清",value:303}}),e._v(" "),l("el-option",{attrs:{label:"3路高清加热成像",value:304}})],1)],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"导航方式",prop:"naviType"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",clearable:""},model:{value:e.temp.naviType,callback:function(t){e.$set(e.temp,"naviType",t)},expression:"temp.naviType"}},[l("el-option",{attrs:{label:"激光",value:4}}),e._v(" "),l("el-option",{attrs:{label:"二维码",value:5}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"机器人 IP",prop:"ip"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.temp.ip,callback:function(t){e.$set(e.temp,"ip","string"===typeof t?t.trim():t)},expression:"temp.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"音频类型",prop:"audioType"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",clearable:""},model:{value:e.temp.audioType,callback:function(t){e.$set(e.temp,"audioType",t)},expression:"temp.audioType"}},[l("el-option",{attrs:{label:"非独立音频",value:1}}),e._v(" "),l("el-option",{attrs:{label:"独立音频",value:2}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"控制类型",prop:"controlType"}},[l("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",clearable:""},model:{value:e.temp.controlType,callback:function(t){e.$set(e.temp,"controlType",t)},expression:"temp.controlType"}},[l("el-option",{attrs:{label:"通过服务器控制",value:1}}),e._v(" "),l("el-option",{attrs:{label:"直连工控机控制",value:2}}),e._v(" "),l("el-option",{attrs:{label:"直连底盘控制",value:3}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"底盘 IP",prop:"chassisIp"}},[l("el-input",{attrs:{placeholder:""},model:{value:e.temp.chassisIp,callback:function(t){e.$set(e.temp,"chassisIp","string"===typeof t?t.trim():t)},expression:"temp.chassisIp"}})],1)],1)],1),e._v(" "),l("div",{staticClass:"robotmgr-dialog__right"},[l("div",{staticClass:"robotOption"},[l("div",{staticClass:"robotOption__head"},[e._v("定制功能：")]),e._v(" "),l("div",{staticClass:"robotOption__body"},[l("el-scrollbar",[l("el-form",{attrs:{"label-position":"left","label-width":"180px"}},[l("el-form-item",{attrs:{label:"熏蒸",prop:"fumigate"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.fumigate,callback:function(t){e.$set(e.temp.params,"fumigate",t)},expression:"temp.params.fumigate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"考勤",prop:"attendance"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.attendance,callback:function(t){e.$set(e.temp.params,"attendance",t)},expression:"temp.params.attendance"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"毒气检测",prop:"gas"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.gas,callback:function(t){e.$set(e.temp.params,"gas",t)},expression:"temp.params.gas"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"激光",prop:"laser"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.laser,callback:function(t){e.$set(e.temp.params,"laser",t)},expression:"temp.params.laser"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"升降杆",prop:"lift"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.lift,callback:function(t){e.$set(e.temp.params,"lift",t)},expression:"temp.params.lift"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"警示灯",prop:"alarmLamp"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.alarmLamp,callback:function(t){e.$set(e.temp.params,"alarmLamp",t)},expression:"temp.params.alarmLamp"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"陌生人脸",prop:"instrument"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.instrument,callback:function(t){e.$set(e.temp.params,"instrument",t)},expression:"temp.params.instrument"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"二氧化碳",prop:"co2"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.co2,callback:function(t){e.$set(e.temp.params,"co2",t)},expression:"temp.params.co2"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"红外温度",prop:"infrared"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.infrared,callback:function(t){e.$set(e.temp.params,"infrared",t)},expression:"temp.params.infrared"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"墙体脱落检测",prop:"wall"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.wall,callback:function(t){e.$set(e.temp.params,"wall",t)},expression:"temp.params.wall"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"二维码抓拍",prop:"i4Capture"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.i4Capture,callback:function(t){e.$set(e.temp.params,"i4Capture",t)},expression:"temp.params.i4Capture"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"点名",prop:"callName"}},[l("el-switch",{attrs:{"active-color":e.activeColor,"active-value":e.switchValue.activeValue,"inactive-value":e.switchValue.inactiveValue},model:{value:e.temp.params.callName,callback:function(t){e.$set(e.temp.params,"callName",t)},expression:"temp.params.callName"}})],1)],1)],1)],1)])]),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogSettingVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.sending,expression:"sending"}],on:{click:e.handleSave}},[e._v("保存")])],1)]),e._v(" "),l("el-dialog",{attrs:{"append-to-body":!0,top:"10vh","custom-class":"robotmgr-dialog",title:"检测已有设备",visible:e.dialogTableVisible,modal:e.needModal,"close-on-click-modal":e.closeOnClickModel,width:"1000px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[l("el-row",{staticClass:"filter-container",attrs:{gutter:20}},[l("el-col",{attrs:{span:6}},[l("el-input",{staticClass:"filter-item",attrs:{size:e.searchSize,placeholder:"机器人SN"},model:{value:e.listQuery2.code,callback:function(t){e.$set(e.listQuery2,"code",t)},expression:"listQuery2.code"}},[l("svg-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix","icon-class":"robot"},slot:"prefix"})],1)],1),e._v(" "),l("el-col",{attrs:{span:6}},[l("el-input",{staticClass:"filter-item",attrs:{size:e.searchSize,placeholder:"机器人Key"},model:{value:e.listQuery2.codeKey,callback:function(t){e.$set(e.listQuery2,"codeKey",t)},expression:"listQuery2.codeKey"}},[l("svg-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix","icon-class":"command"},slot:"prefix"})],1)],1),e._v(" "),l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{size:e.searchSize},on:{click:e.getRobotList}},[e._v("查询")])],1)],1),e._v(" "),l("el-table",{ref:"robotTable",staticStyle:{width:"100%"},attrs:{data:e.list2,"row-key":e.rowKey,fit:"","empty-text":e.emptyText2,"highlight-current-row":"",height:400},on:{"current-change":e.handleCurrentRow,"row-dblclick":e.handleRobotSelect}},[l("el-table-column",{attrs:{align:e.tableAlign,label:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.id)))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"机器人Sn"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.code)))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"机器人key"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.codeKey)))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:e.tableAlign,label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("defaultValue")(t.row.addtime)))]}}])})],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{on:{click:function(t){return e.handleRobotSelect(e.currentRow)}}},[e._v("选择")])],1)],1)],1)},i=[],s=(a("3b2b"),a("7f7f"),a("a481"),a("db72")),o=a("61f7"),n=a("0a1f"),c=a("2f62"),r=n["device"].selectDeviceGroup,u=n["device"].searchRobotList,p=n["device"].deleteRobot,d=n["device"].searchDetectDeviceByParam,m=n["device"].findRobotModelType,v=n["device"].addRobot,g=n["device"].modifyRobot,f=n["device"].searchRobotByDeviceId,_=Object(c["a"])("robot"),b=_.mapState,h={name:"RobotMgr",filters:{filterUsing:function(e){return e?"已启用":"未启用"}},data:function(){var e=function(e,t,a){Object(o["e"])(t)||a(new Error("输入IP格式不对")),a()};return{emptyText:null,list:[],groupList:[],total:null,listLoading:!0,listQuery:{page:1,limit:4,groupId:null,robotNameOrCode:null},layout:!1,dialogTitle:"添加机器人",needModal:!0,closeOnClickModel:!1,dialogSettingVisible:!1,dialogTableVisible:!1,sending:!1,modelTypeList:[],temp:{deviceId:"",code:"",name:"",codeKey:"",modelId:"",naviType:4,gender:"",language:"",chnNum:"",detectId:"",ip:"",chassisIp:"",audioType:2,controlType:"",groupId:0,params:{fumigate:0,attendance:0,alarmLamp:0,instrument:0,gas:0,co2:0,laser:0,infrared:0,lift:0,wall:0,callName:0,i4Capture:0}},rules:{code:[{required:!0,message:"机器人Sn不能为空",trigger:"blur"}],name:[{required:!0,message:"机器人名称不能为空",trigger:"blur"}],codeKey:[{required:!0,message:"机器人Key不能为空",trigger:"blur"}],naviType:[{required:!0,message:"导航方式不能为空",trigger:"blur"}],ip:[{required:!0,message:"机器人IP不能为空",trigger:"blur"},{validator:e,trigger:"blur"}],chassisIp:[{required:!0,message:"底盘IP不能为空",trigger:"blur"},{validator:e,trigger:"blur"}]},activeColor:"rgba(19, 206, 102, 0.4)",switchValue:{activeValue:1,inactiveValue:0},list2:null,listLoading2:!0,emptyText2:null,currentRow:null,listQuery2:{eId:1,code:"",codeKey:""},pageSize:[4],filename:this.$t("route.manager")}},computed:Object(s["a"])({computedGroup:function(){var e=this.groupList,t=[{label:"默认 - 未分组",value:0}],a=Array.isArray(e)&&e.length>0&&e.map(function(e){var t=e.groupName,a=e.id;return{label:t,value:a}});return a||t}},b({robotsList:function(e){return e.robotsList}})),mounted:function(){this.getGroupList(),this.getList()},methods:{goBack:function(){this.$router.replace({path:"/dashboard"})},goView:function(e){var t=e.id;t&&this.$router.push({path:"/manager/view",query:{id:t}})},goConfig:function(e){var t=e.id;t&&this.$router.push({path:"/manager/config/".concat(t)})},goPlan:function(e){var t=e.id,a=e.ver,l=e.naviType;t&&this.$router.push({path:"/manager/plan/".concat(t),query:{ver:a,naviType:l}})},getGroupList:function(){var e=this;r().then(function(t){e.groupList=t.data},function(e){console.log(e)})},getList:function(e){var t=this;"boolean"===typeof e&&e||(this.listQuery.page=1),this.listLoading=!0,this.emptyText=null,u(this.listQuery).then(function(e){t.list=e.data.rows,t.total=e.data.total,t.listLoading=!1},function(e){console.log(e),t.listLoading=!1,t.emptyText="网络错误"})},getRobotList:function(){var e=this;this.listLoading2=!0,this.emptyText2=null,d(this.listQuery2).then(function(t){e.list2=t.data.rows},function(t){console.log(t),e.listLoading2=!1,e.emptyText2="网络错误"})},rowKey:function(e){return e.id},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList(!0)},handleLayout:function(){this.layout=!this.layout,this.listQuery.limit=this.layout?10:4,this.pageSize=this.layout?[10,20,30,50]:[4],this.getList()},handleDeleteRobot:function(e){var t=this,a=this.list,l=e.id,i=e.code,s=e.name;l&&this.$prompt("请输入删除机器人的名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:new RegExp(s),inputErrorMessage:"请输入正确的机器人名称"}).then(function(o){var n=o.value;s===n&&p({deviceId:l,code:i}).then(function(l){t.$message.success(l.msg);var i=a.indexOf(e);a.splice(i,1)},function(e){console.log(e)})},function(){})},resetTemp:function(){this.temp={deviceId:"",code:"",name:"",codeKey:"",modelId:"",naviType:4,gender:"",language:"",chnNum:"",detectId:"",ip:"",chassisIp:"",audioType:2,controlType:"",groupId:0,params:{fumigate:0,attendance:0,alarmLamp:0,instrument:0,gas:0,co2:0,laser:0,infrared:0,lift:0,wall:0,callName:0,i4Capture:0}}},handleDialog:function(e){var t=this,a=e.id;"undefined"===typeof a?(this.dialogTitle="添加机器人",this.resetTemp()):(console.log(e),this.dialogTitle="更新机器人",f({deviceId:a}).then(function(e){var a=e.data,l=a.id,i=a.code,s=a.name,o=a.codeKey,n=a.model,c=a.naviType,r=a.gender,u=a.language,p=a.audioType,d=a.ip,m=a.chassisIp,v=a.controlType,g=a.groupId,f=a.params;t.temp=Object.assign({},t.temp,{deviceId:l,code:i,name:s,codeKey:o,modelId:n,naviType:c,gender:r,language:u,audioType:+p,ip:d,chassisIp:m,controlType:v,groupId:g,params:JSON.parse(f)})},function(e){console.log(e)})),m().then(function(e){t.modelTypeList=e.data},function(e){console.log(e)}),this.$nextTick(function(){t.$refs["dataForm"].clearValidate()}),this.dialogSettingVisible=!0},handleDetectRobot:function(){var e=this;this.dialogTableVisible=!0,this.$nextTick(function(){e.getRobotList()})},handleRobotSelect:function(e,t,a){this.dialogTableVisible=!1;var l=e.id,i=e.code,s=e.codeKey;this.temp=Object.assign({},this.temp,{detectId:l,code:i,codeKey:s})},handleCurrentRow:function(e,t){this.currentRow=e},handleSave:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(t){var a=e.temp.modelId;e.temp.chnNum=90===a?3:120===a?2:130===a?e.temp.chnNum:6;var l=Object.assign({},e.temp);l.params=JSON.stringify(l.params),e.sending=!0,"添加机器人"===e.dialogTitle?v(l).then(function(t){e.$message.success(t.msg),e.getList(),e.sending=!1,e.dialogSettingVisible=!1},function(t){console.log(t),e.sending=!1}):g(l).then(function(t){var a=t.isSuccess;e.$message.success(t.msg),e.$nextTick(function(){a?e.$message({type:"success",message:"语言设置成功"}):e.$message.error("语言设置失败")}),e.getList(),e.sending=!1,e.dialogSettingVisible=!1},function(t){console.log(t),e.sending=!1})}})}}},y=h,w=(a("66d6"),a("6463"),a("2877")),C=Object(w["a"])(y,l,i,!1,null,"7fc65a45",null);t["default"]=C.exports},"66d6":function(e,t,a){"use strict";var l=a("af36"),i=a.n(l);i.a},7933:function(e,t,a){e.exports=a.p+"static/img/I-130.390d102a.png"},"89db":function(e,t,a){e.exports=a.p+"static/img/O-101.5acd6329.png"},af36:function(e,t,a){},cd62:function(e,t,a){e.exports=a.p+"static/img/O-100.92f8dd0d.png"},ed58:function(e,t,a){}}]);