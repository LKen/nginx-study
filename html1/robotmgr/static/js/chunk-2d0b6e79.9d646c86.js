(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6e79"],{"1ec2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container new bg with-pagination"},[a("div",{staticClass:"card",attrs:{"element-loading-text":"拼命加载中","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("div",{staticClass:"card-title"},[a("Toolbar",{attrs:{name:e.filename}},[a("span",{staticClass:"action",on:{click:e.handleSearch}},[a("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" "),a("span",{staticClass:"action__desc"},[e._v(e._s(e.$t("base.search")))])],1),e._v(" "),a("span",{staticClass:"action",on:{click:function(t){return e.handlePlus()}}},[a("svg-icon",{attrs:{"icon-class":"plus"}}),e._v(" "),a("span",{staticClass:"action__desc"},[e._v(e._s(e.$t("base.plus")))])],1)])],1),e._v(" "),a("div",{staticClass:"card-body"},[a("el-row",{staticClass:"filter-container",attrs:{gutter:20}},[a("el-col",{attrs:{xs:12,sm:8,md:4}},[a("el-input",{staticClass:"filter-item",attrs:{size:e.searchSize,placeholder:"变量名称"},on:{change:function(t){return e.handleSearch()}},model:{value:e.listQuery.variableName,callback:function(t){e.$set(e.listQuery,"variableName",t)},expression:"listQuery.variableName"}},[a("i",{staticClass:"el-input__icon el-icon-document",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),e._v(" "),a("div",{staticClass:"card-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","empty-text":e.emptyText}},[a("el-table-column",{attrs:{align:e.tableAlign,label:"变量名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.variableName||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.oid||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"变量英文名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.variableCode||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"对象分组"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.groupCode||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"对象分组名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.groupName||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"是否出现在巡逻报告中"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterIfshow")(t.row.ifShowReport)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"参考值"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.reference||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"值含义"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.valueTxt||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:e.tableAlign,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top"}},[a("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"edit"},on:{click:function(a){return e.handlePlus(t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[a("g-icon",{staticClass:"card-table__icon",attrs:{"icon-class":"delete"},on:{click:function(a){return e.handledeleteTblockVar(t.row)}}})],1)]}}])})],1)],1)],1)]),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,top:"15vh","custom-class":"robotmgr-dialog",title:e.dialogTitle,visible:e.dialogSettingVisible,modal:e.needModal,"close-on-click-modal":e.closeOnClickModel,width:"450px"},on:{"update:visible":function(t){e.dialogSettingVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"90%",margin:"0 auto"},attrs:{rules:e.rules,model:e.temp,size:e.formSize,"label-position":e.formAlign,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"变量名称",prop:"variableName"}},[a("el-input",{attrs:{placeholder:"必填"},model:{value:e.temp.variableName,callback:function(t){e.$set(e.temp,"variableName","string"===typeof t?t.trim():t)},expression:"temp.variableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编号",prop:"oid"}},[a("el-input",{attrs:{placeholder:"XX.XX.XX.XX"},model:{value:e.temp.oid,callback:function(t){e.$set(e.temp,"oid","string"===typeof t?t.trim():t)},expression:"temp.oid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变量英文名"}},[a("el-input",{attrs:{placeholder:"abc"},model:{value:e.temp.variableCode,callback:function(t){e.$set(e.temp,"variableCode","string"===typeof t?t.trim():t)},expression:"temp.variableCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对象分组"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.temp.groupCode,callback:function(t){e.$set(e.temp,"groupCode","string"===typeof t?t.trim():t)},expression:"temp.groupCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对象分组名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.temp.groupName,callback:function(t){e.$set(e.temp,"groupName","string"===typeof t?t.trim():t)},expression:"temp.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否出现在巡逻报告中"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:e.temp.ifShowReport?"是":"否",clearable:""},model:{value:e.temp.ifShowReport,callback:function(t){e.$set(e.temp,"ifShowReport",t)},expression:"temp.ifShowReport"}},[e._l(e.ifShowReport,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),e._v(" "),a("svg-icon",{attrs:{slot:"prefix","class-name":"el-input__icon","icon-class":"list"},slot:"prefix"})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"参考值"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.temp.reference,callback:function(t){e.$set(e.temp,"reference","string"===typeof t?t.trim():t)},expression:"temp.reference"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值含义"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.temp.valueTxt,callback:function(t){e.$set(e.temp,"valueTxt","string"===typeof t?t.trim():t)},expression:"temp.valueTxt"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogSettingVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.sending,expression:"sending"}],on:{click:function(t){return e.handleSave()}}},[e._v("保存")])],1)],1)],1)},i=[],o=(a("ac6a"),a("0a1f")),n=o["patrol"].modifyTblockVar,s=o["patrol"].findTblockVarByParam,r=o["patrol"].deleteTblockVar,c={name:"OidMgr",filters:{filterIfshow:function(e){var t="";switch(+e){case 0:t="否";break;case 1:t="是";break;default:t="未知"}return t}},data:function(){return{emptyText:null,textAlign:"left",tableHeight:550,list:[],source:[],total:null,listLoading:!1,formSize:"small",listQuery:{page:1,limit:10,variableName:""},filename:this.$t("route.oid-mgr"),dialogTitle:"添加oid数据",needModal:!0,closeOnClickModel:!1,dialogSettingVisible:!1,sending:!1,ifShowReport:[{value:"",label:"未知"},{value:1,label:"是"},{value:0,label:"否"}],rules:{variableName:[{required:!0,message:"不能为空",trigger:"blur"}],oid:[{required:!0,message:"不能为空",trigger:"blur"}]},temp:{reference:"",groupName:"",variableName:"",variableCode:"",id:1,oid:"",ifShowReport:"",valueTxt:"",groupCode:""}}},mounted:function(){this.getList()},methods:{getList:function(e){var t=this;"boolean"===typeof e&&e||(this.listQuery.page=1),this.listLoading=!0,this.emptyText="暂无数据",s(this.listQuery).then(function(e){t.list=e.data.rows,t.source=e.data.rows,t.total=e.data.total,t.listLoading=!1},function(e){console.log(e),t.listLoading=!1,t.emptyText="网络错误"})},handlePlus:function(e){var t=this;if(e){this.dialogTitle="编辑oid";var a=e.id,l=e.variableName,i=e.oid,o=e.variableCode,n=e.groupCode,s=e.groupName,r=e.reference,c=e.ifShowReport,u=e.valueTxt;this.temp=Object.assign({},{id:a,variableName:l,oid:i,variableCode:o,groupCode:n,groupName:s,reference:r,ifShowReport:c,valueTxt:u})}else this.dialogTitle="添加oid数据",this.temp={reference:"",groupName:"",variableName:"",variableCode:"",oid:"",ifShowReport:"",valueTxt:"",groupCode:""};this.dialogSettingVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},handledeleteTblockVar:function(e){var t=this,a=e.id;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r({id:a}).then(function(e){t.$message.success(e.msg),t.list.forEach(function(e,l){e.id===a&&t.list.splice(l,1)})},function(e){console.log(e)})}).catch(function(){})},handleSave:function(){var e=this;this.$refs["dataForm"].validate(function(t){var a=Object.assign({},e.temp);t&&(e.sending=!0,e.dialogTitle,n(a).then(function(t){e.$message.success(t.msg),e.getList(),e.sending=!1,e.dialogSettingVisible=!1},function(t){console.log(t),e.sending=!1}))})},handleSearch:function(){this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()}}},u=c,d=a("2877"),p=Object(d["a"])(u,l,i,!1,null,"0339df45",null);t["default"]=p.exports}}]);